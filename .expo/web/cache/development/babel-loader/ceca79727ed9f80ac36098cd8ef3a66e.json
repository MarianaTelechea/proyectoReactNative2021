{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/marianatelechea/Desktop/proyectoReactNative2021/src/components/AuthDrawer.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport { auth } from \"../firebase/config\";\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createDrawerNavigator } from '@react-navigation/drawer';\nimport Register from \"../screens/Register\";\nimport Login from \"../screens/Login\";\nimport Profile from \"../screens/Profile\";\nimport CreatePost from \"../screens/CreatePost\";\nimport Home from \"../screens/Home\";\nvar Drawer = createDrawerNavigator();\n\nvar AuthDrawer = function (_Component) {\n  _inherits(AuthDrawer, _Component);\n\n  var _super = _createSuper(AuthDrawer);\n\n  function AuthDrawer(props) {\n    var _this;\n\n    _classCallCheck(this, AuthDrawer);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      loggeIn: false,\n      user: '',\n      error: ''\n    };\n    return _this;\n  }\n\n  _createClass(AuthDrawer, [{\n    key: \"registrarse\",\n    value: function registrarse(email, password, username) {\n      var _this2 = this;\n\n      auth.createUserWithEmailAndPassword(email, password).then(function (user) {\n        console.log(response);\n        user.user.updateProfile({\n          displayName: username\n        });\n\n        _this2.setState({\n          loggeIn: true\n        });\n      }).catch(function (error) {\n        console.log(error);\n\n        _this2.setState({\n          loggeIn: false,\n          error: \"Fallo en el registro\"\n        });\n      });\n    }\n  }, {\n    key: \"ingresar\",\n    value: function ingresar(email, password) {\n      var _this3 = this;\n\n      auth.signInWithEmailAndPassword(email, password).then(function (response) {\n        console.log(\"mensajeLogin\" + response);\n\n        _this3.setState({\n          loggeIn: true,\n          user: response.user.email,\n          error: ''\n        });\n      }).catch(function (error) {\n        console.log(\"error_login\" + error);\n\n        _this3.setState({\n          loggeIn: false,\n          error: \"Error en loggeo\"\n        });\n      });\n    }\n  }, {\n    key: \"signOut\",\n    value: function signOut() {\n      var _this4 = this;\n\n      auth.signOut().then(function (response) {\n        _this4.setState({\n          loggeIn: false,\n          user: ''\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this5 = this;\n\n      auth.onAuthStateChanged(function (user) {\n        console.log(user);\n\n        if (user) {\n          _this5.setState({\n            loggeIn: true,\n            user: user.email\n          });\n        } else {\n          _this5.setState({\n            loggeIn: false\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n\n      return React.createElement(NavigationContainer, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }\n      }, React.createElement(Drawer.Navigator, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 17\n        }\n      }, this.state.loggeIn ? React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 29\n        }\n      }, React.createElement(Drawer.Screen, {\n        name: \"Home\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 33\n        }\n      }, function () {\n        return React.createElement(Home, {\n          __self: _this6,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 45\n          }\n        });\n      }), React.createElement(Drawer.Screen, {\n        name: \"Profile\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 33\n        }\n      }, function () {\n        return React.createElement(Profile, {\n          user: _this6.state.user,\n          signOut: function signOut() {\n            return _this6.signOut();\n          },\n          __self: _this6,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 45\n          }\n        });\n      }), React.createElement(Drawer.Screen, {\n        name: \"Crear\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 33\n        }\n      }, function (drawerProps) {\n        return React.createElement(CreatePost, {\n          drawerProps: drawerProps,\n          __self: _this6,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 56\n          }\n        });\n      })) : React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 29\n        }\n      }, React.createElement(Drawer.Screen, {\n        name: \"Register\",\n        component: function component() {\n          return React.createElement(Register, {\n            registrarse: function registrarse(email, password, username) {\n              return _this6.registrarse(email, password, username);\n            },\n            __self: _this6,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 82\n            }\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 33\n        }\n      }), React.createElement(Drawer.Screen, {\n        name: \"Login\",\n        component: function component() {\n          return React.createElement(Login, {\n            ingresar: function ingresar(email, password) {\n              return _this6.ingresar(email, password);\n            },\n            __self: _this6,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 79\n            }\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 33\n        }\n      }))));\n    }\n  }]);\n\n  return AuthDrawer;\n}(Component);\n\nexport { AuthDrawer as default };\nexport function logOut() {\n  throw new Error('Function not implemented.');\n}","map":{"version":3,"sources":["/Users/marianatelechea/Desktop/proyectoReactNative2021/src/components/AuthDrawer.js"],"names":["React","Component","auth","NavigationContainer","createDrawerNavigator","Register","Login","Profile","CreatePost","Home","Drawer","AuthDrawer","props","state","loggeIn","user","error","email","password","username","createUserWithEmailAndPassword","then","console","log","response","updateProfile","displayName","setState","catch","signInWithEmailAndPassword","signOut","onAuthStateChanged","drawerProps","registrarse","ingresar","logOut","Error"],"mappings":";;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,SAASC,IAAT;AAEA,SAAQC,mBAAR,QAAkC,0BAAlC;AACA,SAAQC,qBAAR,QAAoC,0BAApC;AAEA,OAAOC,QAAP;AACA,OAAOC,KAAP;AACA,OAAOC,OAAP;AACA,OAAOC,UAAP;AACA,OAAOC,IAAP;AAEA,IAAMC,MAAM,GAAGN,qBAAqB,EAApC;;IAEqBO,U;;;;;AACjB,sBAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AACd,8BAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,OAAO,EAAE,KADA;AAETC,MAAAA,IAAI,EAAE,EAFG;AAGTC,MAAAA,KAAK,EAAC;AAHG,KAAb;AAFc;AAOjB;;;;WAED,qBAAYC,KAAZ,EAAmBC,QAAnB,EAA6BC,QAA7B,EAAsC;AAAA;;AAClCjB,MAAAA,IAAI,CAACkB,8BAAL,CAAoCH,KAApC,EAA2CC,QAA3C,EACCG,IADD,CACM,UAAAN,IAAI,EAAI;AACVO,QAAAA,OAAO,CAACC,GAAR,CAAYC,QAAZ;AACAT,QAAAA,IAAI,CAACA,IAAL,CAAUU,aAAV,CAAwB;AAACC,UAAAA,WAAW,EAAEP;AAAd,SAAxB;;AACA,QAAA,MAAI,CAACQ,QAAL,CAAc;AAACb,UAAAA,OAAO,EAAC;AAAT,SAAd;AACH,OALD,EAMCc,KAND,CAMO,UAAAZ,KAAK,EAAI;AACZM,QAAAA,OAAO,CAACC,GAAR,CAAYP,KAAZ;;AACA,QAAA,MAAI,CAACW,QAAL,CAAc;AACVb,UAAAA,OAAO,EAAC,KADE;AAEVE,UAAAA,KAAK,EAAE;AAFG,SAAd;AAIH,OAZD;AAaH;;;WAED,kBAASC,KAAT,EAAgBC,QAAhB,EAAyB;AAAA;;AACrBhB,MAAAA,IAAI,CAAC2B,0BAAL,CAAgCZ,KAAhC,EAAuCC,QAAvC,EACCG,IADD,CACM,UAAAG,QAAQ,EAAI;AACdF,QAAAA,OAAO,CAACC,GAAR,CAAY,iBAAiBC,QAA7B;;AACA,QAAA,MAAI,CAACG,QAAL,CAAc;AACVb,UAAAA,OAAO,EAAC,IADE;AAEVC,UAAAA,IAAI,EAAES,QAAQ,CAACT,IAAT,CAAcE,KAFV;AAGVD,UAAAA,KAAK,EAAE;AAHG,SAAd;AAKH,OARD,EASCY,KATD,CASO,UAAAZ,KAAK,EAAI;AACZM,QAAAA,OAAO,CAACC,GAAR,CAAY,gBAAgBP,KAA5B;;AACA,QAAA,MAAI,CAACW,QAAL,CAAc;AACVb,UAAAA,OAAO,EAAC,KADE;AAEVE,UAAAA,KAAK,EAAE;AAFG,SAAd;AAIH,OAfD;AAgBH;;;WAED,mBAAS;AAAA;;AACLd,MAAAA,IAAI,CAAC4B,OAAL,GACCT,IADD,CACM,UAAAG,QAAQ,EAAI;AACd,QAAA,MAAI,CAACG,QAAL,CAAc;AACVb,UAAAA,OAAO,EAAE,KADC;AAEVC,UAAAA,IAAI,EAAE;AAFI,SAAd;AAIH,OAND,EAOCa,KAPD,CAOO,UAAAZ,KAAK,EAAI;AACZM,QAAAA,OAAO,CAACC,GAAR,CAAYP,KAAZ;AACH,OATD;AAUH;;;WAED,6BAAmB;AAAA;;AACfd,MAAAA,IAAI,CAAC6B,kBAAL,CAAwB,UAAChB,IAAD,EAAQ;AAC5BO,QAAAA,OAAO,CAACC,GAAR,CAAYR,IAAZ;;AACA,YAAGA,IAAH,EAAS;AACL,UAAA,MAAI,CAACY,QAAL,CAAc;AACVb,YAAAA,OAAO,EAAE,IADC;AAEVC,YAAAA,IAAI,EAAEA,IAAI,CAACE;AAFD,WAAd;AAIH,SALD,MAKK;AACD,UAAA,MAAI,CAACU,QAAL,CAAc;AACVb,YAAAA,OAAO,EAAE;AADC,WAAd;AAGH;AACJ,OAZD;AAaH;;;WAED,kBAAQ;AAAA;;AACJ,aACI,oBAAC,mBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,MAAD,CAAQ,SAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEQ,KAAKD,KAAL,CAAWC,OAAX,GACI,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,MAAD,CAAQ,MAAR;AAAe,QAAA,IAAI,EAAC,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACM;AAAA,eAAM,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAN;AAAA,OADN,CADJ,EAII,oBAAC,MAAD,CAAQ,MAAR;AAAe,QAAA,IAAI,EAAC,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACM;AAAA,eAAM,oBAAC,OAAD;AAAS,UAAA,IAAI,EAAE,MAAI,CAACD,KAAL,CAAWE,IAA1B;AAAgC,UAAA,OAAO,EAAE;AAAA,mBAAI,MAAI,CAACe,OAAL,EAAJ;AAAA,WAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAN;AAAA,OADN,CAJJ,EAOI,oBAAC,MAAD,CAAQ,MAAR;AAAe,QAAA,IAAI,EAAC,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACM,UAACE,WAAD;AAAA,eAAiB,oBAAC,UAAD;AAAY,UAAA,WAAW,EAAEA,WAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAjB;AAAA,OADN,CAPJ,CADJ,GAaI,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,MAAD,CAAQ,MAAR;AAAe,QAAA,IAAI,EAAC,UAApB;AAA+B,QAAA,SAAS,EAAI;AAAA,iBAAK,oBAAC,QAAD;AAAU,YAAA,WAAW,EAAE,qBAACf,KAAD,EAAQC,QAAR,EAAkBC,QAAlB;AAAA,qBAA+B,MAAI,CAACc,WAAL,CAAiBhB,KAAjB,EAAwBC,QAAxB,EAAkCC,QAAlC,CAA/B;AAAA,aAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAL;AAAA,SAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI,oBAAC,MAAD,CAAQ,MAAR;AAAe,QAAA,IAAI,EAAC,OAApB;AAA4B,QAAA,SAAS,EAAI;AAAA,iBAAK,oBAAC,KAAD;AAAO,YAAA,QAAQ,EAAG,kBAACF,KAAD,EAAQC,QAAR;AAAA,qBAAqB,MAAI,CAACgB,QAAL,CAAcjB,KAAd,EAAqBC,QAArB,CAArB;AAAA,aAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAL;AAAA,SAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CAfZ,CADJ,CADJ;AAyBH;;;;EApGmCjB,S;;SAAnBU,U;AAuGrB,OAAO,SAASwB,MAAT,GAAkB;AACrB,QAAM,IAAIC,KAAJ,CAAU,2BAAV,CAAN;AACH","sourcesContent":["import React, { Component } from 'react';\n\nimport { auth } from '../firebase/config';\n\nimport {NavigationContainer} from '@react-navigation/native';\nimport {createDrawerNavigator} from '@react-navigation/drawer';\n\nimport Register from '../screens/Register';\nimport Login from '../screens/Login'; \nimport Profile from '../screens/Profile'; \nimport CreatePost from '../screens/CreatePost';\nimport Home from '../screens/Home';\n\nconst Drawer = createDrawerNavigator();\n\nexport default class AuthDrawer extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            loggeIn: false,\n            user: '',\n            error:''\n        }\n    }\n\n    registrarse(email, password, username){\n        auth.createUserWithEmailAndPassword(email, password)\n        .then(user => {\n            console.log(response);\n            user.user.updateProfile({displayName: username})\n            this.setState({loggeIn:true})\n        })\n        .catch(error => {\n            console.log(error);\n            this.setState({\n                loggeIn:false,\n                error: \"Fallo en el registro\"\n            })\n        })\n    }\n\n    ingresar(email, password){\n        auth.signInWithEmailAndPassword(email, password)\n        .then(response => {\n            console.log(\"mensajeLogin\" + response);\n            this.setState({\n                loggeIn:true,\n                user: response.user.email,\n                error: ''\n            })\n        })\n        .catch(error => {\n            console.log(\"error_login\" + error);\n            this.setState({\n                loggeIn:false,\n                error: \"Error en loggeo\"\n            })\n        })\n    }\n    \n    signOut(){\n        auth.signOut()\n        .then(response => {\n            this.setState({\n                loggeIn: false,\n                user: ''\n            })\n        })\n        .catch(error => {\n            console.log(error);\n        })\n    }\n\n    componentDidMount(){\n        auth.onAuthStateChanged((user)=>{\n            console.log(user)\n            if(user) {\n                this.setState({\n                    loggeIn: true,\n                    user: user.email\n                })\n            }else{\n                this.setState({\n                    loggeIn: false\n                })\n            }\n        })\n    }\n\n    render(){\n        return(\n            <NavigationContainer> \n                <Drawer.Navigator>\n                    {\n                        this.state.loggeIn ?\n                            <React.Fragment>\n                                <Drawer.Screen name=\"Home\">\n                                    { () => <Home/> }\n                                </Drawer.Screen>\n                                <Drawer.Screen name=\"Profile\">\n                                    { () => <Profile user={this.state.user} signOut={()=>this.signOut()} /> }\n                                </Drawer.Screen>\n                                <Drawer.Screen name=\"Crear\">\n                                    { (drawerProps) => <CreatePost drawerProps={drawerProps} /> }\n                                </Drawer.Screen>\n                            </React.Fragment>\n                        :\n                            <React.Fragment> \n                                <Drawer.Screen name=\"Register\" component = {()=> <Register registrarse={(email, password, username) => this.registrarse(email, password, username)} />} />\n                                <Drawer.Screen name=\"Login\" component = {()=> <Login ingresar ={(email, password) => this.ingresar(email, password)} />} />\n                            </React.Fragment>\n                    }\n                </Drawer.Navigator>\n            </NavigationContainer>\n        )\n    }\n}\n\nexport function logOut() {\n    throw new Error('Function not implemented.');\n}\n"]},"metadata":{},"sourceType":"module"}